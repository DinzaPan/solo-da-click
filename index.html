<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Para el amor de mvd ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
<style>
  * {
    -webkit-tap-highlight-color: transparent;
    outline: none;
  }

  body {
    margin: 0; padding: 0;
    font-family: 'Fredoka', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #ffeef0; 
    overflow: hidden;
    touch-action: manipulation;
  }

  .main-container {
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    height: 100%; width: 95%; max-width: 600px; text-align: center; gap: 40px; 
  }

  h1 {
    color: #ff4757; font-size: clamp(2rem, 9vw, 3.5rem); line-height: 1.2; margin: 0;
    padding: 0 10px; text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.6);
  }

  .btn-container {
    display: flex; justify-content: center; align-items: flex-end; gap: 30px; 
    position: relative; height: 180px; width: 100%;
  }

  button {
    padding: 20px 0; width: 140px; font-size: 1.4rem; font-weight: 600;
    border: none; border-radius: 25px; cursor: pointer; font-family: 'Fredoka', sans-serif;
    transition: transform 0.1s; box-shadow: 0 6px 0px rgba(0,0,0,0.1);
  }

  #btn-yes { background-color: #2ed573; color: white; box-shadow: 0 6px 0px #21a357; z-index: 20; }
  #btn-yes:active { transform: translateY(6px); box-shadow: none; }

  .no-wrapper { position: relative; width: 140px; display: flex; justify-content: center; align-items: flex-end; }
  #btn-no { background-color: #ff4757; color: white; box-shadow: 0 6px 0px #d63031; cursor: pointer; }

  #bubble {
    position: absolute; bottom: 130px; background: white; padding: 12px 18px; border-radius: 20px;
    font-size: 1rem; font-weight: 600; color: #ff4757; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    opacity: 0; transition: opacity 0.3s, transform 0.3s; transform: translateY(10px);
    width: 160px; pointer-events: none; z-index: 25;
  }
  
  #bubble::after {
    content: ''; position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%);
    border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 10px solid white;
  }
 
  #cat-img {
    position: absolute; bottom: -95px; left: 50%; transform: translateX(-50%);
    width: 140px; height: auto; z-index: 10; cursor: pointer; 
    filter: drop-shadow(0 5px 12px rgba(0,0,0,0.12));
    user-select: none; -webkit-user-drag: none;
    animation: cat-arrival 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  }

  @keyframes cat-arrival {
    0% { opacity: 0; transform: translateX(-50%) translateY(100px) scale(0.5); }
    100% { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
  }

  .hit-animation {
    animation: shake-damage 0.25s ease-in-out !important;
  }

  @keyframes shake-damage {
    0% { transform: translateX(-50%) scale(1); filter: brightness(1); }
    20% { transform: translateX(-60%) scale(0.95); filter: brightness(1.8) sepia(1) saturate(20) hue-rotate(-50deg); }
    40% { transform: translateX(-40%) scale(1.1); filter: brightness(1.8) sepia(1) saturate(20) hue-rotate(-50deg); }
    60% { transform: translateX(-55%) scale(0.98); filter: brightness(1.8) sepia(1) saturate(20) hue-rotate(-50deg); }
    80% { transform: translateX(-45%) scale(1.05); }
    100% { transform: translateX(-50%) scale(1); filter: brightness(1) sepia(0); }
  }

  #success-screen, #sad-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff0f3;
    display: none; flex-direction: column; justify-content: center; align-items: center;
    z-index: 100; padding: 20px; box-sizing: border-box;
  }

  .particle { position: fixed; pointer-events: none; z-index: 999; color: #ff4757; }
</style>
</head>
<body>

  <audio id="bg-music" src="music/Contigo.mp3"></audio>

  <div class="main-container" id="main-content">
    <h1>¬øQuieres volver con Migo? ü•π</h1>
    <div class="btn-container">
      <button id="btn-yes" onclick="finish()">S√ç</button>
      <div class="no-wrapper">
        <div id="bubble">¬°Oye!</div>
        <img src="https://static.wikia.nocookie.net/gatopedia/images/c/cb/Panamiguel.png/revision/latest/thumbnail/width/360/height/360?cb=20230110214216&path-prefix=es" id="cat-img" onclick="handleNoInteraction()">
        <button id="btn-no" onclick="handleNoInteraction()">NO</button>
      </div>
    </div> 
  </div>

  <div id="success-screen">
    <img src="img/final.png" style="width: 300px; max-width: 90%; border-radius: 25px;">
    <h1 style="margin-top: 25px; text-align: center; color: #ff4757;">¬°SAB√çA QUE ACEPTARIAS! ‚ù§Ô∏è</h1>
    <p style="font-size: 1.5rem; color: #555;">Espero ser mejor persona y estar a tu lado sin importar cualquier cosa.</p>
  </div>

  <div id="sad-screen">
    <img src="img/gato5.png" style="width: 300px; max-width: 90%; border-radius: 25px;">
    <h1 style="margin-top: 25px; text-align: center; color: #ff4757;">Ok entiendo minimo lo intente :<</h1>
  </div>
  
<script>
  const catImg = document.getElementById('cat-img');
  const bubble = document.getElementById('bubble');
  const music = document.getElementById('bg-music');

  const frases = [
    "¬°Ni lo pienses! üòæ", "¬°Vete al otro bot√≥n! üêæ", "¬°Miau! Intenta otra cosa üê±",
    "¬°No me mover√©! üòº", "¬øEn serio? üòø", "¬°El S√ç est√° al lado!", "¬°Te estoy viendo! üëÄ", "¬°No insistas! üòπ" 
  ];
 
  const gatitos = [
    "img/gato1.png",
    "img/gato2.png",
    "img/gato3.jpeg",
    "img/gato4.png"
  ]; 

  let ultimaFraseIndex = -1;
  let ultimoGatitoIndex = -1;
  let noClicks = 0;

  function handleNoInteraction() {
    noClicks++;

    if(noClicks >= 10) {
      document.getElementById('main-content').style.display = 'none';
      document.getElementById('sad-screen').style.display = 'flex';
      return;
    }

    catImg.style.animation = "none";
    void catImg.offsetWidth; 
    catImg.classList.remove('hit-animation');
    void catImg.offsetWidth; 
    catImg.classList.add('hit-animation');

    let nuevoGatitoIndex;
    do { nuevoGatitoIndex = Math.floor(Math.random() * gatitos.length); } while (nuevoGatitoIndex === ultimoGatitoIndex);
    ultimoGatitoIndex = nuevoGatitoIndex;
    catImg.src = gatitos[nuevoGatitoIndex];

    let nuevoFraseIndex;
    do { nuevoFraseIndex = Math.floor(Math.random() * frases.length); } while (nuevoFraseIndex === ultimaFraseIndex);
    ultimaFraseIndex = nuevoFraseIndex;
    bubble.innerText = frases[nuevoFraseIndex];

    bubble.style.opacity = "1";
    bubble.style.transform = "translateY(0)";

    setTimeout(() => { 
      bubble.style.opacity = "0";
      bubble.style.transform = "translateY(10px)";
    }, 3000);
  }

  function finish() {
    music.play().catch(e => console.log("Error al reproducir m√∫sica:", e));
    document.getElementById('main-content').style.display = 'none'; 
    document.getElementById('success-screen').style.display = 'flex'; 
    lanzarConfeti();  
  }

  function lanzarConfeti() {
    for (let i = 0; i < 70; i++) {
      const heart = document.createElement('div'); 
      heart.innerHTML = "‚ù§Ô∏è";
      heart.classList.add('particle');
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.top = -10 + "vh"; 
      heart.style.fontSize = (Math.random() * 20 + 20) + "px";
      const duration = Math.random() * 3 + 2;
      heart.style.transition = `top ${duration}s linear, opacity ${duration}s`;
      document.body.appendChild(heart);
      setTimeout(() => {
        heart.style.top = "110vh"; 
        heart.style.opacity = "0";
      }, 200);
      setTimeout(() => heart.remove(), duration * 1000 + 100);
    }
  }
</script>
</body>
</html>
